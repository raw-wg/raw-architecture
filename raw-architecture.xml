<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE rfc SYSTEM "rfc2629-xhtml.ent">

<!-- Compiles with XML2RFC v3 https://xml2rfc.tools.ietf.org/cgi-bin/xml2rfc-dev.cgi -->

<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc compact="no"?>
<?rfc subcompact="no"?>
<?rfc authorship="yes"?>
<?rfc tocappendix="yes"?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" category="info" docName="draft-ietf-raw-architecture-04"
     ipr="trust200902" obsoletes="" updates="" submissionType="IETF" xml:lang="en" version="3">
  <front>
    <title abbrev="RAW Architecture/Framework">Reliable and Available Wireless Architecture</title>
    <author initials="P" surname="Thubert" fullname="Pascal Thubert" role="editor">
      <organization abbrev="Cisco Systems">Cisco Systems, Inc</organization>
      <address>
    <postal>
      <street>Building D</street>
      <street>45 Allee des Ormes - BP1200 </street>
      <city>MOUGINS - Sophia Antipolis</city>
      <code>06254</code>
      <country>France</country>
    </postal>
    <phone>+33 497 23 26 34</phone>
    <email>pthubert@cisco.com</email>
      </address>
    </author>

    <author initials="G.Z." surname="Papadopoulos" fullname="Georgios Z. Papadopoulos">
      <organization>IMT Atlantique</organization>
      <address>
    <postal>
      <street>Office B00 - 114A</street>
      <street>2 Rue de la Chataigneraie</street>
      <city>Cesson-Sevigne - Rennes</city>
      <code>35510</code>
      <country>France</country>
    </postal>
    <phone>+33 299 12 70 04</phone>
    <email>georgios.papadopoulos@imt-atlantique.fr</email>
      </address>
    </author>




    <date/>
    <area>Routing Area</area>
    <workgroup>RAW</workgroup>
    <keyword>Draft</keyword>
    <abstract>
      <t>
      <!--
      Due to uncontrolled interferences, including the self-induced multipath fading, deterministic networking can only be approached on wireless links. The radio conditions may change -way- faster than a centralized routing can adapt and reprogram, in particular when the controller is distant and connectivity is slow and limited. RAW separates the routing time scale at which a complex path is recomputed from the forwarding time scale at which the forwarding decision is taken for an individual packet. RAW operates at the forwarding time scale. The RAW problem is to decide, within the redundant solutions that are proposed by the routing, which will be used for each individual packet to provide a DetNet service while minimizing the waste of resources.
       !-->

      Reliable and Available Wireless (RAW) provides for high
      reliability and availability for IP connectivity over a
      wireless medium. The wireless medium presents significant
      challenges to achieve deterministic properties such as low
      packet error rate, bounded consecutive losses, and bounded
      latency. This document defines the RAW Architecture following
      an OODA loop that involves OAM, PCE, PSE and PAREO functions.
      It builds on the DetNet Architecture and discusses specific
      challenges and technology considerations needed to deliver
      DetNet service utilizing scheduled wireless segments and
      other media, e.g., frequency/time-sharing physical media
      resources with stochastic traffic.

      </t>
    </abstract>
  </front>
  <middle>

    <section numbered="true" toc="default">
      <name>Introduction</name>

      <t>
   Deterministic Networking is an attempt to emulate the properties of a serial
   link over a switched fabric, by providing a bounded latency and eliminating
   congestion loss, even when co-existing with best-effort traffic.
   It is getting traction in various industries including professional A/V,
   manufacturing, online gaming, and smartgrid automation, enabling cost and
   performance optimizations (e.g., vs. loads of P2P cables).
      </t>
      <t>
   Bringing determinism in a packet network means eliminating the statistical
   effects of multiplexing that result in probabilistic jitter and loss.
   This can be approached with a tight control of the physical resources to
   maintain the amount of traffic within a budgeted volume of data per unit of
   time that fits the physical capabilities of the underlying network, and
   the use of time-shared resources (bandwidth and buffers) per circuit, and/or
   by shaping and/or scheduling the packets at every hop.
   </t>
   <t>
   This innovation was initially introduced on wired networks, with IEEE 802.1
   Time Sensitive networking (TSN) - for Ethernet LANs - and IETF DetNet.
   But the wired and the wireless media are fundamentally different at the
   physical level and in the possible abstractions that can be built for IPv6
   <xref target="I-D.thubert-6man-ipv6-over-wireless" format="default"/>.
   Nevertheless, deterministic capabilities are required in a number of wireless
   use cases as well <xref target="I-D.ietf-raw-use-cases"/>. With new scheduled
   radios such as TSCH and OFDMA <xref target="I-D.ietf-raw-technologies"/>
   being developped to provide determinism over wireless links at the lower
   layers, providing DetNet capabilities is now becoming possible.
   </t>
   <t>
   Wireless networks operate on a shared medium where uncontrolled interference,
   including the self-induced multipath fading cause random transmission losses.
   Fixed and mobile obstacles and reflectors may block or alter the signal,
   causing transient and unpredictable variations of the throughput and packet
   delivery ratio (PDR) of a wireless link. This adds new dimensions to the
   statistical effects that affect the quality and reliability of the link.
   Multiple links and transmissions must be used, and the challenge is to
   provide enough diversity and redundancy to ensure the timely packet delivery
   while preserving energy and optimizing the use of the shared spectrum.
      </t>
   <t>
   Reliable and Available Wireless (RAW) takes up the challenge of providing
   highly available and reliable end-to-end performances in a network with
   scheduled wireless segments.
   To defeat those additional causes of transmission delay and loss in wireless
   transmission, RAW requires and leverages deterministic layer-2 capabilities.
   Operating at the layer-3, RAW can further increase diversity in the spatial,
   time, code, and frequency domains by enabling multiple link-layer wired and
   wireless technologies in parallel or sequentially, for a higher resilience
   and a wider applicability. RAW can also provide homogeneous services to
   critical applications beyond the boundaries of a single subnetwork, e.g.,
   controlling the use of diverse radio access technologies to optimize the
   end-to-end application experience.
   </t>
   <t>
   While the generic <xref target="RFC8557">"Deterministic Networking
   Problem Statement"</xref> applies to both the wired and the wireless media,
   the methods to achieve RAW must extend those used to support time-sensitive
   networking over wires, as a RAW solution has to address less consistent
   transmissions, energy conservation and shared spectrum efficiency.
   </t>
      <t>
   RAW provides DetNet elements that are specialized for IPv6 flows
   <xref target="RFC8200"/> over selected deterministic radios technologies
   <xref target="I-D.ietf-raw-technologies"/>.
   Conceptually, RAW is agnostic to the radio layer underneath though the
   capability to schedule transmissions is assumed.
   How the PHY is programmed to do so, and whether the radio is single-hop
   or meshed, are unknown at the IP layer and not part of the RAW abstraction.
   Nevertheless, cross-layer optimizations may take place to ensure proper
   link awareness (think, link quality) and packet handling (think, scheduling).
      </t>
      <t>
   The <xref target="RFC8655">"Deterministic Networking Architecture"</xref> is
   composed of three planes: the Application (User) Plane, the Controller Plane,
   and the Network Plane.
   The DetNet Network Plane is composed of a DetNet service sublayer that
   focuses on flow protection (e.g., using redundancy) and can be fully operated
   at layer-3, and a DetNet forwarding sublayer that associates the flows to the
   paths, ensures the availability of the necessary resources, and leverages
   layer-2 functionalities for timely delivery to the next Detnet system.
      </t>
      <t>
   The RAW Architecture extends the DetNet Network Plane, to accommodate one or
   multiple hops of homogeneous or heterogeneous wired and wireless technologies.
   RAW adds reactivity to the DetNet service sublayer to compensate the dynamics
   for the radio links in terms of lossiness and bandwidth. This may apply for
   instance to mesh networks as illustrated in <xref target ="FigCPF"/>, or
   diverse radio access networks as illustrated in <xref target ="Figranp2"/>.
      </t>
      <t>
    RAW and DetNet route application flows that require a special
    treatment along the paths that will provide that treatment.
    This may be seen as a form of Path Aware Networking and may be subject to
    impediments documented in <xref target="RFC9049"/>.
      </t>
      <t>
   The establishment of a path is not in-scope for RAW. It may be the product of
   a centralized Controller Plane as described for DetNet. As opposed to wired
   networks, the action of installing a path over a set of wireless links
   may be very slow relative to the speed at which the radio conditions vary,
   and it makes sense in the wireless case to provide redundant forwarding
   solutions along a complex path (see <xref target="pt"/>) and to leave it
   to the Network Plane to select which of those forwarding solutions are to be
   used for a given packet based on the current conditions.
      </t>
      <t>
   RAW distinguishes the longer time scale at which routes are computed from the
   the shorter forwarding time scale where per-packet decisions are made.
   RAW operates within the Network Plane at the forwarding time scale on one
   DetNet flow over a complex path delineated by a Track
   (see <xref target="trk"/>). The Track is
   preestablished and installed by means outside of the scope of RAW; it may be
   strict or loose depending on whether each or just a subset of the hops are
   observed and controlled by RAW.
      </t>
      <t>
   The RAW Architecture is based on an abstract OODA Loop (Observe, Orient, Decide,
   Act). The generic concept involves:
      </t>
      <ol>
      <li> Network Plane measurement protocols for Operations, Administration
      and Maintenance (OAM) to Observe some or all hops along a Track as well as
      the end-to-end packet delivery
      </li>
      <li> Controller plane elements to reports the links statistics to a Path
      computation Element (PCE) in a centralized controller that computes and
      installs the Tracks and provides meta data to Orient the routing
      decision
      </li>
      <li> A Runtime distributed Path Selection Engine (PSE) that Decides which
      subTrack to use for the next packet(s) that are routed along the Track
      </li>
      <li> Packet (hybrid) ARQ, Replication, Elimination and Ordering Dataplane
      actions that operate at the DetNet Service Layer to increase the
      reliability of the end-to-end transmissions. The RAW architecture also
      covers in-situ signalling when the decision is Acted by a node that
      down the Track from the PSE.
      </li>
      </ol>
   <t> The overall OODA Loop optimizes the use of redundancy to achieve the
   required reliability and availability Service Level Agreement (SLA) while
   minimizing the use of constrained resources such as spectrum and battery.
   </t>
   <t>This document presents the RAW problem and associated terminology in
   <xref target="problem"/>, and elaborates in <xref target="ooda"/>
   on the OODA loop based on the RAW conceptual model presented in
   <xref target="model"/>.
   </t>

    </section>
    <!-- Introduction -->
    <!--  000000000000000000000    -->

    <section anchor="problem" numbered="true" toc="default">
      <name>The RAW problem</name>

   <section anchor="terms" numbered="true" toc="default">
    <name>Terminology</name>

    <t>RAW reuses terminology defined for DetNet in the <xref target="RFC8655">
    "Deterministic Networking Architecture"</xref>, e.g., PREOF for Packet
    Replication, Elimination and Ordering Functions.
    </t>
    <t>
    RAW also reuses terminology defined for 6TiSCH in <xref target=
    "RFC9030" format="default"/> such as the term Track. A Track associates a
    complex path with PAREO and shaping operations. The concept is agnostic to
    the underlaying technology and applies but is not limited to any fully or
    partially wireless mesh.
    RAW specifies strict and loose Tracks depending on whether the path is fully
    controlled by RAW or traverses an opaque network where RAW cannot observe
    and control the individual hops.
    </t>
    <t>
    RAW uses the following terminology and acronyms:
    </t>

    <section><name>Acronyms</name>
    <section><name>ARQ</name>
    <t>
    Automatic Repeat Request, enabling an acknowledged
    transmission and retries. ARQ is a typical model at Layer-2 on a wireless
    medium. ARQ is typically implemented hop-by-hop and not end-to-end in
    wireless networks. Else, it introduces excessive indetermination in latency,
    but a limited number  of retries within a bounded time may be used within
    end-to-end constraints.
    </t>
    </section>
    <section><name>OAM</name>
    <t>
      OAM stands for Operations, Administration, and Maintenance, and
      covers the processes, activities, tools, and standards involved
      with operating, administering, managing and maintaining any
      system.  This document uses the terms Operations, Administration,
      and Maintenance, in conformance with the <xref target="RFC6291">
      'Guidelines for the Use of the "OAM" Acronym in the IETF'</xref>
      and the system observed by the RAW OAM is the Track.

     </t>
    </section>
    <section><name>OODA</name>
    <t>
    Observe, Orient, Decide, Act. The OODA Loop is a
    conceptual cyclic model developed by USAF Colonel John Boyd, and that is
    applicable in multiple domains where agility can provide benefits against
    brute force.
    </t>
    </section>

    <section><name>PAREO</name>
    <t>
    Packet (hybrid) ARQ, Replication, Elimination and
    Ordering. PAREO is a superset Of DetNet's PREOF that includes
    radio-specific techniques such as short range broadcast, MUMIMO,
    PHY rate and other Modulation Coding Scheme (MCS) adaptation,
    constructive interference and overhearing, which can be
    leveraged separately or combined to increase the reliability.
    </t>
    </section>
    </section><!--Acronyms-->

    <section><name>Link and Direction</name>

    <section><name>Flapping</name>
    <t>
    In the context of RAW, a link flaps when the reliability of the wireless
    connectivity drops abruptly for a short period of time, typically of a
    subsecond to seconds duration.
    </t>
    </section>

    <section><name>Uplink</name>
    <t>
     Connection from end-devices to a data communication equipment. In the
     context of wireless, uplink refers to the connection between a station
     (STA) and a controller (AP) or a User Equipment (UE) to a Base Station (BS)
     such as a 3GPP 5G gNodeB (gNb).
     </t>
    </section>

    <section><name>Downlink</name>
    <t>
      The reverse direction from uplink.
     </t>
    </section>

    <section><name>Downstream</name>
    <t>
     Following the direction of the flow data path along a Track.
     </t>
    </section>

    <section><name>Upstream</name>
    <t>
     Against the direction of the flow data path along a Track.
     </t>
     </section>

    </section><!-- Link and Direction -->


    <section anchor="pt"><name>Path and Tracks</name>
    <section><name>Path</name>

    <t>
    Quoting section 1.1.3 of <xref target="RFC1122"/>:
    </t>
    <blockquote>
    At a given moment, all the IP datagrams from a particular source host to a
    particular destination host will typically traverse the same sequence of
    gateways.  We use the term "path" for this sequence.  Note that a path is
    uni-directional; it is not unusual to have different paths in the two
    directions between a given host pair.
    </blockquote>
    <t>
    Section 2 of <xref target="I-D.irtf-panrg-path-properties"/> points to a
    longer, more modern definition of path, which begins as follows:
    </t>
    <blockquote>
      A sequence of adjacent path elements over which a packet can
     f be transmitted, starting and ending with a node.  A path is
      unidirectional.  Paths are time-dependent, i.e., the sequence of
      path elements over which packets are sent from one node to another
      may change.  A path is defined between two nodes.
    </blockquote>
    <t>
    It follows that the general acceptance of a path is a linear sequence of
    nodes, as opposed to a multi-dimensional graph, defined by the experience of
    the packet that went from a node A to a node B.
    </t>
    <t> With DetNet and RAW,
    a packet may be duplicated, fragmented and network-coded, and the various
    byproducts may travel different paths that are not necessarily end-to-end
    between A and B; we refer to that experience as a complex path.
    The complex path does not fit the traditional description of a path, and
    is subject to change from a packet to the next. This is why we introduce
    below the term of a Track as the overall topology where the possible
    complex paths are all contained.
    </t>
    <t>
    In the context of this document, a path is observed by following one copy
    or one fragment of a packet that conserves its uniqueness and integrity.
    For instance, if C replicates to E and F and D eliminates on the way from A
    to B, a packet from A to B experiences 2 paths, A->C->E->D->B and
    A->C->F->D->B.
    </t>
    </section>
    <section anchor="trk"><name>Track</name>

    <t>A networking graph that can be followed to transport packets with
    equivalent treatment; as opposed to the definition of a path above, a Track
    represents not an experience but a potential, is not necessarily a linear
    sequence, and is not necessarily fully traversed (flooded) by all packets
    of a flow. It may contain multiple paths that may overlap, fork and rejoin,
    for instance to enable the RAW PAREO operations.
    </t>
    <t>
    In DetNet <xref target="RFC8655"/> terms, a Track has the following
    properties:
    </t>
    <ul>
    <li>
    A Track has one Ingress and one Egress nodes, which operate as DetNet Edge
    nodes.
    </li><li>
    A Track is reversible, meaning that packets can be routed against the flow
    of data packets, e.g., to carry OAM measurements or control messages back to
    the Ingress.
    </li><li>
    The vertices of the Track are DetNet Relay nodes that operate at the DetNet Service sublayer and provide the PAREO functions.
    </li><li>
    The topological edges of the graph are serial sequences of DetNet Transit
    nodes that operate at the DetNet Forwarding sublayer.
    </li>
    </ul>
    </section>
    <section><name>SubTrack</name>
    <t>
    A Track within a Track. The RAW PSE selects a subTrack
    on a per-packet or a per-collection of packets basis to provide the desired reliability for the transported flows.
    </t>
    </section>
    <section><name>Segment</name>
    <t>
    A serial path formed by a topological edge of a Track.
    East-West Segments are oriented from Ingress (East) to Egress (West).
    North/South Segments can be bidirectional; to avoid loops, measures must be
    taken to ensure that a given packet flows either Northwards or Southwards
    along a bidirectional Segment, but never bounces back.
    </t>
    </section>
    </section><!--Path and Tracks-->


    <section><name>Deterministic Networking</name>
    <t>This document reuses the terminology in section 2 of
    <xref target="RFC8557"/> and section 4.1.2 of <xref target="RFC8655"/>
    for deterministic networking and deterministic networks.
    </t>
    <section><name>Flow</name>
    <t>
    A collection of consecutive IP packets defined by the upper layers and
    signaled by the same 5 or 6-tuple, see section 5.1 of
    <xref target="RFC8939"/>. Packets of the same flow must be placed
    on the same Track to receive an equivalent treatment from Ingress to Egress
    within the Track. Multiple flows may be transported along the same Track.
    The subTrack that is selected for the flow may change over time under the
    control of the PSE.
    </t>
    </section>

    <section><name>Deterministic Flow Identifier (L2)</name>
    <t>
     A tuple identified by a stream_handle, and provided by a bridge, in
     accordance with IEEE 802.1CB.
     The tuple comprises at least src MAC, dst MAC, VLAN ID, and L2 priority.
     Continuous streams are characterized by bandwidth and max packet size;
     scheduled streams are characterized by a repeating pattern of timed
     transmissions.
     </t>
    </section>
    <section><name>Deterministic Flow Identifier (L3)</name>
    <t>
     See section 3.3 of <xref target="RFC8938"/>. The classical IP 5-tuple that
     identifies a flow comprises the src IP, dst IP, src port, dest port, and
     the upper layer protocol (ULP). DetNet uses a 6-tuple where the extra field
     is the DSCP field in the packet. The IPv6 flow label is not used for that
     purpose.
     </t>
     </section>
     <section><name>TSN</name>
    <t>
    TSN stands for Time Sensitive Networking and denotes the efforts at IEEE
    802 for deterministic networking, originally for use on Ethernet. Wireless
    TSN (WTSN) denotes extensions of the TSN work on wireless media such as
    the selected RAW technologies <xref target="I-D.ietf-raw-technologies"/>.
    </t>
    </section>
     </section><!--Deterministic Networking -->


    <section><name>Reliability and Availability</name>
    <t>
    In the context of the RAW work, Reliability and Availability are defined as
    follows:
    </t>

    <section><name>Service Level Agreement</name>
    <t>
    In the context of RAW, an SLA (service level agreement) is a contract
    between a provider, the network, and a client, the application flow,
    about measurable metrics such as latency boundaries, consecutive losses,
    and packet delivery ratio (PDR).
    </t>
    </section>
    <section><name>Service Level Objective</name>
    <t>
    A service level objective (SLO) is one term in the SLA, for which specific
    network setting and operations are implemented. For instance, a dynamic
    tuning of the packet redundancy will address an SLO of consecutive losses in
    a row by augmenting the chances of delivery of a packet that follows a loss.).
    </t>
    </section>

    <section><name>Service Level Indicator</name>
    <t>
    A service level indicator (SLI) measures the compliance of an SLO to the
    terms of the contrast. It can be for instance the statistics of individual
    losses and losses in a row as time series.).
    </t>
    </section>

    <section><name>Reliability</name>
    <t>
    Reliability is a measure of the probability that an item will perform its
    intended function for a specified interval under stated conditions (SLA).
    RAW expresses reliability in terms of Mean Time Between Failure (MTBF)
    and Maximum Consecutive Failures (MCF). More in <xref target="NASA"/>.).
    </t>
    </section>

    <section><name>Available</name>
    <t>
    That is exempt of unscheduled outage or derivation from the terms of the SLA.
    A basic expectation for a RAW network is that the flow is maintained in the
    face of any single breakage or flapping.
    </t>
    </section>

    <section><name>Availability</name>
    <t>
    Availability is a measure of the relative amount of time where a RAW Network
    operates in stated condition (SLA), expressed as (uptime)/(uptime+downtime).
    Because a serial wireless path may not be good enough to provide the
    required reliability, and even 2 parallel paths may not be over a longer
    period of time, the RAW availability implies a journey that is a lot more
    complex than following a serial path.
    </t>
    </section>

    </section><!--Reliability and Availability-->

    <section><name>OAM variations</name>
    <section><name>Active OAM</name>
    <t>
     See <xref target="RFC7799"/>. In the context of RAW, Active OAM is used to
     observe a particular Track, subTrack, or Segment of a Track regardless of
     whether it is used for traffic at that time.
     </t>
    </section>
    <section><name>In-Band OAM</name>
    <t>
     An active OAM packet is considered in-band for the
      monitored Track when it traverses the same set of links and interfaces
      and if the OAM packet receives the same QoS and PAREO treatment as the
      packets of the data flows that are injected in the Track.
     </t>
    </section>
    <section><name>Out-of-Band OAM</name>
    <t>
     Out-of-band OAM is an active OAM whose path is
      not topologically congruent to the Track, or its test packets receive a
      QoS and/or PAREO treatment that is different from that of the packets of
      the data flows that are injected in the Track, or both.
     </t>
    </section>
    <section><name>Limited OAM</name>
    <t>
     An active OAM packet is a Limited OAM packet when
      it observes the RAW operation over a node, a segment, or a subTrack
      of the Track, though not from Ingress to Egress.  It is injected
      in the datapath and extracted from the datapath around the
      particular function or subnetwork (e.g., around a relay providing
      a service layer replication point) that is being tested.
     </t>
    </section>
    <section><name>Upstream OAM</name>

     <t>
    An upstream OAM packet is an Out-of-Band OAM packet that traverses the Track
    from egress to ingress on the reverse direction, to capture and  report OAM
    measurements upstream. The collection may capture all information along the
    whole Track, or it may only learn select data across all, or only a
    particular subTrack, or Segment of a Track.
     </t>
</section> <!-- Upstream OAM -->

    <section><name>Residence Time</name>
    <t>
    A residence time (RT) is defined as the
    time period between the reception of a packet starts and the
    transmission of the packet begins. In the context of RAW, RT is useful
    for a transit node, not ingress or egress.
    </t>
    </section>
    <section><name>Additional References</name>
    <t>  <xref target="I-D.ietf-detnet-oam-framework" format="default"/>
    provides additional terminology related to OAM in the context of DetNet and
    by extension of RAW, whereas <xref target="RFC7799"/> defines the Active,
    Passive, and Hybrid OAM methods.
    </t>
</section> <!-- Additional References -->

</section> <!-- OAM variations -->


    </section><!-- Terminology -->
    <!--  1111111111111111    -->

    <section numbered="true" toc="default">
      <name>Reliability and Availability</name>


    <!--  2222222222222222    -->
    <section numbered="true" toc="default">
      <name>High Availability Engineering Principles</name>

    <t>
    The reliability criteria of a critical system pervades through its elements,
    and if the system comprises a data network then the data network is also
    subject to the inherited reliability and availability criteria.
    It is only natural to consider the art of high availability engineering and
    apply it to wireless communications in the context of RAW.
    </t>

    <t>
    There are three principles [pillars] of high availability engineering:
    </t>
     <ol spacing="compact">
     <li>elimination of single points of failure</li>
     <li>reliable crossover</li>
     <li>prompt detection of failures as they occur.</li>
     </ol>
     <t>
     These principles are common to all high availability systems, not just ones
     with Internet technology at the center.  Examples of both non-Internet and
     Internet are included.
    </t>


    <!--  333333333333333333333   -->

    <section numbered="true" toc="default">
      <name>Elimination of Single Points of Failure</name>

    <t>
    Physical and logical components in a system happen to fail, either as the
    effect of wear and tear, when used beyond acceptable limits, or due to a
    software bug.
    It is necessary to decouple component failure from system failure to avoid
    the latter.
    This allows failed components to be restored while the rest of the system
    continues to function.
    </t>
    <t>
    IP Routers leverage routing protocols to compute alternate routes in case
    of a failure. There is a rather open-ended issue over alternate routes --
    for example, when links are cabled through the same conduit, they form a
    shared risk link group (SRLG), and will share the same fate if the bundle is
    cut. The same effect can happen with virtual links that end up in a same physical transport through the games of encapsulation. In a same fashion,
    an interferer or an obstacle may affect multiple wireless transmissions at
    the same time, even between different sets of peers.
    </t>
    <t>
    Intermediate network Nodes such as routers, switches and APs, wire bundles
    and the air medium itself can become single points of failure. For High
    Availability, it is thus required to use physically link- and Node-disjoint
    paths; in the wireless space, it is also required to use the highest
    possible degree of diversity (time, space, code, frequency, channel width)
    in the transmissions over the air to combat the additional causes of
    transmission loss.
    </t>
    <t>
    From an economics standpoint, executing this principle properly generally
    increases capitalization expense because of the redundant equipment. In a
    constrained network where the waste of energy and bandwidth should be
    minimized, an excessive use of redundant links must be avoided; for RAW this
    means that the extra bandwidth must be used wisely and with parcimony.
    </t>

    </section>
      <!--Elimination of Single Points of Failure-->



    <!--  333333333333333333333   -->


    <section numbered="true" toc="default">
      <name>Reliable Crossover</name>

    <t>
    Having a backup equipment has a limited value unless it can be reliably
    switched into use within the down-time parameters.
    IP Routers execute reliable crossover continuously because
    the routers will use any alternate routes that are available <xref target=
    "RFC0791"/>. This is due to the stateless nature of IP datagrams and the
    dissociation of the datagrams from the forwarding routes they take.
    The <xref target="RFC5714">"IP Fast Reroute Framework"</xref> analyzes
    mechanisms for fast failure detection and path repair for IP Fast-Reroute,
    and discusses the case of multiple failures and SRLG. Examples of FRR
    techniques include Remote Loop-Free Alternate <xref target="RFC7490"/> and
    backup label-switched path (LSP) tunnels for the local repair of LSP tunnels
    using RSVP-TE <xref target="RFC4090"/>.
    </t>
    <t>
    Deterministic flows, on the contrary, are attached to specific paths where
    dedicated resources are reserved for each flow. This is why each DetNet path
    must inherently provide sufficient redundancy to provide the guaranteed SLA
    at all times.
    The DetNet PREOF typically leverages 1+1 redundancy whereby a packet is sent
    twice, over non-congruent paths. This avoids the gap during the fast reroute
    operation, but doubles the traffic in the network.
    </t>
    <t>
    In the case of RAW, the expectation is that multiple transient faults may
    happen in overlapping time windows, in which case the 1+1 redundancy with
    delayed reestablishment of the second path will not provide the required
    guarantees.
    The Data Plane must be configured with a sufficient degree of
    redundancy to select an alternate redundant path immediately upon a fault,
    without the need for a slow intervention from the controller plane.
    </t>
    </section>
      <!--Reliable Crossover-->





    <!--  333333333333333333333   -->


    <section numbered="true" toc="default">
      <name>Prompt Notification of Failures</name>
    <t>
    The execution of the two above principles is likely to render a system where
    the user will rarely see a failure. But someone needs to in order to direct
    maintenance.
    </t>
    <t>
    There are many reasons for system monitoring (FCAPS for fault, configuration,
    accounting, performance, security is a handy mental checklist) but fault
    monitoring is sufficient reason.
    </t>
    <t>
    <xref target="RFC3411">"An Architecture for Describing
    Simple Network Management Protocol (SNMP) Management Frameworks"</xref>
    describes how to use SNMP to observe and correct long-term faults.
    </t>
    <t>
    <xref target="RFC3272">
    "Overview and Principles of Internet Traffic Engineering"</xref> discusses
    the importance of measurement for network protection, and provides abstract
    an method for network survivability with the analysis of a traffic matrix
    as observed by SNMP, probing techniques, FTP, IGP link state advertisements,
    and more.
    </t>

    <t>
    Those measurements are needed in the context of RAW to inform the controller
    and make the long term reactive decision to rebuild a complex  path. But RAW
    itself operates in the Network Plane at a faster time scale. To act on the
    Data Plane, RAW needs live information from the Operational Plane , e.g.,
    using <xref target="RFC8175">Dynamic Link Exchange Protocol (DLEP)</xref>
    to obtain timely and accurate knowledge of the characteristics of the link
    (speed, state, etc.).
    </t>

<!--

    Security requirements. SNMP messages need to be authentic in all cases.
    Implementations may need to be confidential as well.



[ ... dovetail this into the OAM things that need to be included. Most of the discussion seems to cluster around performance management]

-->
    </section>
      <!--Prompt Notification of Failures-->




   </section>
      <!--Reliability Engineering-->
    <!--  22222222222222222222    -->


    <section numbered="true" toc="default">
      <name>Applying Reliability Concepts to Networking</name>
    <t>
    The terms Reliability and Availability are defined for use in RAW in
    <xref target="terms"/> and the reader is invited to read
    <xref target="NASA"/>
    for more details on the general definition of Reliability.
    Practically speaking a number of nines is often used to indicate the
    reliability of a data link, e.g., 5 nines indicate a
    Packet Delivery Ratio (PDR) of 99.999%.
    </t>
    <t>
    This number is typical in a wired
    environment where the loss is due to a random event such as a solar particle
    that affects the transmission of a particular frame, but does not affect the
    previous or next frame, nor frames transmitted on other links. Note that the
    QoS requirements in RAW may include a bounded latency, and a packet that
    arrives too late is a fault and not considered as delivered.
    </t>
    <t>
    For a periodic networking pattern such as an automation control loop, this
    number is proportional to the Mean Time Between Failures (MTBF).
    When a single fault can have dramatic consequences, the MTBF expresses the
    chances that the unwanted fault event occurs. In data networks,
    this is rarely the case. Packet loss cannot never be fully avoided and the
    systems are built to resist to one loss, e.g., using redundancy with Retries
    (HARQ) or Packet Replication and Elimination (PRE), or, in a typical control
    loop, by linear interpolation from the previous measurements.
    </t>
   <t>
    But the linear interpolation method cannot resist multiple consecutive
    losses, and a high MTBF is desired as a guarantee that this will not happen,
    IOW that the number of losses-in-a-row can be bounded. In that case, what is
    really desired is a Maximum Consecutive Failures (MCF).
    If the number of losses in a row passes the MCF, the control loop has to
    abort and the system, e.g., the production line, may need to enter an
    emergency stop condition.
    </t>
   <t>
    Engineers that build automated processes may use the network reliability
    expressed in nines or as an MTBF as a proxy to indicate an MCF, e.g., as
    described in section 7.4 of the <xref target="RFC8578">"Deterministic
    Networking Use Cases"</xref>.
    </t>
    </section>
      <!--Applying Reliability concepts to Networking-->
    <!--  22222222222222222222    -->

    <section numbered="true" toc="default">
      <name>Reliability in the Context of RAW</name>
    <t>
    In contrast with wired networks, errors in transmission are the predominant
    source of packet loss in wireless networks.
    </t>
    <t>
    The root cause for the loss may be of multiple origins, calling for
    the use of different forms of diversity:
    </t>
    <dl>
    <dt>Multipath Fading</dt>
    <dd>
    <t>A destructive interference by a reflection of the original signal.
    </t>
    <t>A radio signal may be received directly
    (line-of-sight) and/or as a reflection on a physical structure (echo).
    The reflections take a longer path and are delayed by the extra distance
    divided by the speed of light in the medium. Depending on the frequency, the
    echo lands with a different phase which may add up to (constructive
    interference) or cancel the direct signal (destructive interference).
    </t>
    <t>
    The affected frequencies depend on the relative position of the sender, the
    receiver, and all the reflecting objects in the environment.
    A given hop will suffer from multipath fading for multiple packets in a
    row till a phyqical movement changes the reflection patterns.
    </t>
    </dd>
    <dt>Co-channel Interference</dt>
    <dd>
    <t>
    Energy in the spectrum used for the transmission confuses the receiver.
    </t>
    <t>
    The wireless medium itself is a Shared Risk Link Group (SRLG) for nearby
    users of the same spectrum, as an interference may affect multiple co-channel
    transmissions between different peers within the interference domain of the
    interferer, possibly even when they use different technologies.
    </t>
    </dd>
    <dt>Obstacle in Fresnel Zone</dt>
    <dd>

    <t>
    The optimal transmission happens when the Fresnel Zone between the sender
    and the receiver is free of obstacles.
    </t>
    <t>
    As long as a physical object (e.g., a metallic trolley between peers) that
    affects the transmission is not removed, the quality of the link is affected.
    </t>
    </dd>
    </dl>
    <t>
    In an environment that is rich of metallic structures and mobile objects, a
    single radio link will provide a fuzzy service, meaning that it cannot be trusted to transport the traffic reliably over a long period of time.
    </t>
    <t>
    Transmission losses are typically not independent, and their nature and
    duration are unpredictable; as long as a physical object (e.g., a metallic
    trolley between peers) that affects the transmission is not removed, or as
    long as the interferer (e.g., a radar) keeps transmitting, a continuous
    stream of packets will be affected.
    </t>
    <t>
    The key technique to combat those unpredictable losses is diversity.
    Different forms of diversity are necessary to combat different causes of
    loss and the use of diversity must be maximized to optimize the PDR.
    </t>
    <t>
    A single packet may be sent at different times (time diversity) over diverse
    paths (spatial diversity) that rely on diverse radio channels (frequency
    diversity) and diverse PHY technologies, e.g., narrowband vs. spread
    spectrum, or diverse codes.
    Using time diversity will defeat short-term interferences;
    spatial diversity combats very local causes such as multipath fading;
    narrowband and spread spectrum are relatively innocuous to one another and
    can be used for diversity in the presence of the other.
    </t>


    </section>
      <!--Reliability in the Context of RAW-->

    </section>
    <!--Reliability and Availability-->
    <!--  11111111111111111111    -->


    <section anchor="timescale" numbered="true" toc="default">
      <name>Routing Time Scale vs. Forwarding Time Scale</name>
      <t>
   With DetNet, the Controller Plane Function that handles the routing computation and maintenance (the PCE) can be centralized and can
   reside outside the network.
   In a wireless mesh, the path to the PCE can be expensive and slow,
   possibly going across the whole mesh and back.
   Reaching to the PCE can also be slow in regards to the speed
   of events that affect the forwarding operation at the radio layer.

      </t><t>
   Due to that cost and latency, the Controller Plane is not
   expected to be sensitive/reactive to transient changes. The abstraction of a
   link at the routing level is expected to use statistical metrics
   that aggregate the behavior of a link over long periods of time, and
   represent its properties as shades of gray as opposed to numerical values
   such as a link quality indicator, or a boolean value for either up or down.
      </t>

         <figure anchor="Figcontrol">
          <name>Time Scales</name>
       <artwork align="center" name="" type="" alt="">
       <![CDATA[
               +----------------+
               |  Controller    |
               |    [PCE]       |
               +----------------+
                       ^
                       |
                      Slow
                       |
   _-._-._-._-._-._-.  |  ._-._-._-._-._-._-._-._-._-._-._-._-
 _-._-._-._-._-._-._-. | _-._-._-._-._-._-._-._-._-._-._-._-
                       |
                    Expensive
                       |
                ....   |  .......
            ....    .  | .       .......
         ....          v               ...
       ..    A-------B-------C---D        ..
    ...     /  \   /       /      \      ..
   .       I ----M-------N--***-- E        ..
   ..       \      \   /         /         ...
     ..      P--***--Q----------R        ....
       ..                              ....
        .   <----- Fast ------->    ....
         .......                ....
                .................

*** = flapping at this time
    ]]>
       </artwork>
       </figure>
      <t>
   In the case of wireless, the changes that affect the forwarding decision can
   happen frequently and often for short durations, e.g., a mobile object moves
   between a transmitter and a receiver, and will cancel the line of sight
   transmission for a few seconds, or a radar measures the depth of a pool and
   interferes on a particular channel for a split second.
      </t>
      <t>
   There is thus a desire to separate the long term computation of the route and
   the short term forwarding decision. In that model, the routing operation
   computes a complex Track that enables multiple Non-Equal Cost Multi-Path
   (N-ECMP) forwarding solutions, and leaves it to the Data Plane to make
   the per-packet decision of which of these possibilities should be used.
      </t>
      <t>
   In the wired world, and more specifically in the context of Traffic
   Engineering (TE), an alternate path can be used upon the detection of a
   failure in the main path, e.g., using OAM in MPLS-TP or BFD over a
   collection of SD-WAN tunnels. RAW
   formalizes a forwarding time scale that is an order(s) of magnitude shorter
   than the controller plane routing time scale, and separates the protocols
   and metrics that are used at both scales.
   Routing can operate on long term statistics such as delivery
   ratio over minutes to hours, but as a first approximation can ignore flapping.
   On the other hand, the RAW forwarding decision is made at the scale of the packet rate, and uses information that must be pertinent at the present time for the current transmission(s).
      </t>

    </section >
    <!--Routing Time Scale vs. Forwarding Time Scale-->

    </section>      <!-- The RAW problem -->
    <!--  000000000000000000000    -->




<section anchor="model" numbered="true" toc="default">
    <name>The RAW Conceptual Model</name>
    <t>
    RAW inherits the conceptual model described in section 4 of the DetNet
    Architecture <xref target="RFC8655"/>. RAW extends the DetNet service
    layer to provide additional agility against transmission loss.
    </t><t>

   A RAW Network Plane may be strict or loose, depending
   on whether RAW observes and takes actions on all hops or not. For instance,
   the packets between two wireless entities may be relayed over a wired
   infrastructure such as a Wi-Fi extended service set (ESS) or a 5G Core; in
   that case, RAW observes and controls the transmission over the wireless first
   and last hops, as well as end-to-end metrics such as latency, jitter, and
   delivery ratio. This operation is loose since the structure and properties of
   the wired infrastructure are ignored, and may be either controlled by other
   means such as DetNet/TSN, or neglected in the face of the wireless hops.

    </t><t>
    A Controller Plane Function (CPF) called the
    Path Computation Element (PCE) <xref target="RFC4655"/> interacts with
    RAW Nodes over a Southbound API. The RAW Nodes are DetNet relays that are capable of additional diversity mechanisms and measurement functions related
    to the radio interface, in particular the PAREO diversity mechanisms.
    </t><t>
    The PCE defines a complex Track between an Ingress End System and an Egress
    End System, and indicates to the RAW Nodes where the PAREO operations may be actionned in the Network Plane. The Track may be expressed loosely to enable
    traversing a non-RAW subnetwork. In that case, the expectation is that the
    non-RAW subnetwork can be neglected in the RAW computation, that is,
    considered infinitely fast, reliable and/or available in comparison with the
    links between RAW nodes.
    </t>
<figure anchor="FigCPF">
          <name>RAW Nodes</name>
       <artwork align="center" name="" type="" alt="">


        CPF               CPF          CPF                 CPF


                       Southbound API
   _-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-
 _-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-


                 RAW  --z   RAW  --z   RAW  --z   RAW
             z-- Node  z--  Node  z--  Node  z--  Node --z
  Ingress --z    /          /                           z-- Egress
  End           \          \         .. .                   End
  Node   ---z   /          /       .. ..  .             z-- Node
           z-- RAW  --z   RAW     ( non-RAW ) -- RAW --z
               Node  z--  Node --- ( Nodes  )   Node
                                      ... .
  --z   wireless           wired
   z--  link           --- link
</artwork>
</figure>

    <t>
    The Link-Layer metrics are reported to the PCE in a time-aggregated, e.g.,
    statistical fashion. Example Link-Layer metrics include typical Link
    bandwidth (the medium speed depends dynamically on the PHY mode), number of
    flows (bandwidth that can be reserved for a flomw depends on the number and
    size of flows sharing the spectrum) and average and mean squared deviation
    of availability and reliability figures such as Packet Delivery Ratio (PDR)
    over long periods of time.
    </t><t>
    Based on those metrics, the PCE installs the Track with enough
    redundant forwarding solutions to ensure that the Network Plane can reliably
    deliver the packets within a System Level Agreement (SLA) associated to the
    flows that it transports.
    The SLA defines end-to-end reliability and availability requirements, where
    reliability may be expressed as a successful delivery in order and within a
    bounded delay of at least one copy of a packet.
    </t><t>
    Depending on the use case and the SLA, the Track may comprise non-RAW
    segments, either interleaved inside the Track, or all the way to
    the Egress End Node (e.g., a server in the Internet). RAW observes the
    Lower-Layer Links between RAW nodes (typically, radio links) and the
    end-to-end Network Layer operation to decide at all times which of the PAREO
    diversity schemes is actioned by which RAW Nodes.
    </t><t>
    Once a Track is established, per-segment and end-to-end reliability
    and availability statistics are periodically reported to the PCE to assure that
    the SLA can be met or have it recompute the Track if not.
    </t>

    </section> <!-- The RAW Conceptual Model -->


    <!--  1111111111111   -->

<section anchor="ooda" numbered="true" toc="default">
    <name>The OODA Loop</name>

      <t>
   The RAW Architecture is structured as an OODA Loop (Observe, Orient, Decide,
   Act). It involves:
      </t>
      <ol>
      <li> Network Plane measurement protocols for Operations, Administration
      and Maintenance (OAM) to Observe some or all hops along a Track as well as
      the end-to-end packet delivery, more in <xref target = "aom" />;
      </li>
      <li> Controller plane elements to report the links statistics to a Path
      computation Element (PCE) in a centralized controller that computes and
      installs the Tracks and provides meta data to Orient the routing
      decision, more in <xref target = "pce" />;
      </li>
      <li> A Runtime distributed Path Selection Engine (PSE) thar Decides which
      subTrack to use for the next packet(s) that are routed along the Track,
      more in <xref target = "psepce" />;
      </li>
      <li> Packet (hybrid) ARQ, Replication, Elimination and Ordering Dataplane
      actions that operate at the DetNet Service Layer to increase the
      reliability o fthe end-to-end transmission. The RAW architecture also
      covers in-situ signalling when the decision is Acted by a node that
      down the Track from the PSE, more in <xref target = "PAREO" />.
      </li>
      </ol>
      <figure anchor="oodaloop">
          <name>The RAW OODA Loop</name>
       <artwork align="center" name="" type="" alt="">
<![CDATA[

     +-------> Orient (PCE) --------+
     |          link stats,         |
     |       pre-trained model      |
     |             ...              |
     |                              |
     |                              v
 Observe (OAM)                Decide (PSE)
     ^                              |
     |                              |
     |                              |
     +-------- Act (PAREO) <--------+
                At DetNet
             Service sublayer

]]></artwork>
</figure>
   <t> The overall OODA Loop optimizes the use of redundancy to achieve the
   required reliability and availability Service Level Agreement (SLA) while
   minimizing the use of constrained resources such as spectrum and battery.
   </t>

<section anchor="aom" numbered="true" toc="default">
    <name>Observe: The RAW OAM </name><t>
    RAW In-situ OAM operation in the Network Plane may observe either a full
    Track or subTracks that are being used at this time. As packets may be load
    balanced, replicated, eliminated, and / or fragmented for Network Coding
    (NC) forward error correction (FEC), the RAW In-situ operation needs to be
    able to signal which operation occured to an individual packet.
    </t>
    <t>
    Active RAW OAM may
    be needed to observe the unused segments and evaluate the desirability of
    a rerouting decision.
    </t>
    <t>
    Finally, the RAW Service Layer Assurance may observe the individual PAREO
    operation of a relay node to ensure that it is conforming; this might
    require injecting an OAM packet at an upstream point inside the Track and
    extracting that packet at another point downstream before it reaches the
    egress.
    </t><t>
    This observation feeds the RAW
    PSE that makes the decision on which PAREO function is actioned at which RAW
    Node, for one a small continuous series of packets.
     </t>
<figure anchor="Figranp2">
          <name>Observed Links in Radio Access Protection</name>
       <artwork align="center" name="" type="" alt="">
<![CDATA[
                                   ...   ..
                RAN 1  -----  ...      ..  ...
             /              .    ..          ....
+-------+  /              .            ..      ....    +------+
|Ingress|-                .                     .....  |Egress|
|  End  |------ RAN 2 -- .       Internet       ....---| End  |
|System |-                ..                   .....   |System|
+-------+  \               .               ......      +------+
             \               ...   ...     .....
                RAN n  --------  ...   .....

       <------------------> <-------------------->
          Observed by OAM       Opaque to OAM

]]></artwork>
</figure>
   <t>
    In the case of a End-to-End Protection in a Wireless Mesh, the Track is strict and congruent
    with the path so all links are observed. Conversely, in the case of Radio
    Access Protection, the Track is Loose and in that case only the first hop is observed; the rest of the path is abstracted and considered infinitely reliable.
    </t>
    <t>
    In the case of the Radio Access Protection, only the first hop is protected;
    the loss of a packet that was sent over one of the possible first hops is
    attributed to that first hop, even if a particular loss effectively happens
    farther down the path.
    </t>
    <t>
    The Links that are not observed by OAM are opaque to it, meaning that the
    OAM information is carried across and possibly echoed as data, but there is
    no information capture in intermediate nodes. In the example above, the
    Internet is opaque and not controlled by RAW; still the RAW OAM measures the
    end-to-end latency and delivery ratio for packets sent via each if RAN 1,
    RAN 2 and RAN 3, and determines whether a packet should be sent over either
    or a collection of those access links.
    </t>




</section>
    <!-- Observe: The RAW OAM -->


<section anchor="pce" numbered="true" toc="default">
    <name>Orient: The Path Computation Engine</name>

   <t>
   RAW separates the path computation time scale at which a complex path is
   recomputed from the path selection time scale at which the forwarding
   decision is taken for one or a few packets (see in <xref target="timescale"
   />).
   </t>
   <t>The path computation is out of scope, but RAW expects that the Controller
   plane protocol that installs the Track also provides related knowledge
   in the form of meta data about the links, segments and possible subTracks.
   That meta data can be a pre-digested statistical model, and may include
   prediction of future flaps and packet loss, as well as recommended actions
   when that happens.
   </t>
   <t>
   The meta data may include:
   </t>
   <ul>
   <li>
   Pre-Determined subTracks to match predictable error profiles
   </li>
   <li>
   Pre-Trained models
   </li>
   <li>
   Link Quality Statistics and their projected evolution
   </li>
   </ul>
   <t>The Track is installed with measurable objectives that are computed by
   the PCE to achieve the RAW SLA. The objectives can be expressed as any of
   maximum number of packet lost in a row, bounded latency, maximal jitter,
   maximum nmuber of interleaved out of order packets,
   average number of copies received at the elimination point, and maximal
   delay between the first and the last received copy of the same packet.
   </t>
</section>
    <!-- Orient: The Path Computation Engine -->

<section anchor="psepce" numbered="true" toc="default">
    <name>Decide: The Path Selection Engine</name>
 <t>
    The RAW OODA Loop operates at the path selection time scale to provide
    agility vs. the brute force approach of flooding the whole Track.
    The OODA Loop controls, within the redundant solutions that are proposed
    by the PCE, which will be used for each packet to provide a Reliable and
    Available service while minimizing the waste of constrained resources.
    </t><t>
    To that effect, RAW defines the Path Selection Engine (PSE) that is the
    counterpart of the PCE to perform rapid local adjustments of the forwarding
    tables within the diversity that the PCE has selected for the Track.
    The PSE enables to exploit the richer forwarding capabilities with PAREO and
    scheduled transmissions at a faster time scale over the smaller domain that
    is the Track, in either a loose or a strict fashion.
    </t>
   <t>
        Compared to the PCE,
    the PSE operates on metrics that evolve faster, but that need to be
    advertised at a fast rate but only locally, within the Track.
    The forwarding decision may also change rapidly, but with a scope that is
    also contained within the Track, with no visibility to the other Tracks and
    flows in the network. This is as opposed to the PCE that must observe
    the  whole network and optimize all the Tracks globally, which can only be
    done at a slow pace and using long-term statistical metrics, as presented in
    <xref target="PCEPSEtable"/>.
    </t>
    <table anchor="PCEPSEtable"><name>PCE vs. PSE</name>
   <thead>
      <tr>
       <th> </th>
		   <th align='center'>PCE (Not in Scope)</th>
		   <th align='center'>PSE (In Scope)</th>
      </tr>

   </thead><tbody>

			<tr><td>Operation</td>
    			<td align='center'>Centralized</td>
    			<td align='center'>Source-Routed or Distributed</td>
        </tr>


			<tr><td>Communication
</td>
    			<td align='center'>Slow, expensive</td>
    			<td align='center'>Fast, local</td>
        </tr>


			<tr><td>Time Scale</td>
    			<td align='center'>hours and above</td>
    			<td align='center'>seconds and below</td>
        </tr>


			<tr><td>Network Size</td>
    			<td align='center'>Large, many Tracks to optimize globally</td>
    			<td align='center'>Small, within one Track</td>
        </tr>


			<tr><td>Considered Metrics</td>
    			<td align='center'>Averaged, Statistical, Shade of grey</td>
    			<td align='center'>Instant values / boolean condition</td>
        </tr>



    </tbody>
    </table><t>
    The PSE sits in the DetNet Service sub-Layer of Edge and Relay Nodes. On the
    one hand, it operates on the packet flow, learning the Track and path
    selection information from the packet, possibly making local decision and
    retagging the packet to indicate so. On the other hand, the PSE interacts
    with the lower layers and with its peers to obtain up-to-date information
    about its radio links and the quality of the overall Track, respectively,
    as illustrated in <xref target="FigPSEcomp"/>.
    </t>

<figure anchor="FigPSEcomp">
          <name>PSE</name>
       <artwork align="center" name="" type="" alt=""><![CDATA[
            |
     packet | going
   down the | stack
 +==========v==========+=====================+=====================+
 |   (iOAM + iCTRL)    | (L2 Triggers, DLEP) |       (oOAM)        |
 +==========v==========+=====================+=====================+
 |     Learn from                                 Learn from       |
 |    packet tagging           Maintain           end-to-end       |
 +----------v----------+      Forwarding          OAM packets      |
 | Forwarding decision <        State        +---------^-----------|
 +----------v----------+                     |      Enrich or      |
 +    Retag Packet     |  Learn abstracted   >     Regenerate      |
 |    and Forward      | metrics about Links |     OAM packets     |
 +..........v..........+..........^..........+.........^.v.........+
 |                          Lower layers                           |
 +..........v.....................^....................^.v.........+
      frame | sent          Frame | L2 Ack        oOAM | | packet
       over | wireless        In  |                 In | | and out
            v                     |                    | v
]]></artwork>
</figure>
</section>
    <!--PCE vs. PSE-->


    <!--  11111111111111111    -->
    <section anchor="PAREO" numbered="true" toc="default">
      <name>Act: The PAREO Functions</name>
      <t>
    RAW may control whether and how to use packet replication and elimination
    (PRE), Automatic Repeat reQuest (ARQ), Hybrid ARQ (HARQ) that includes
    Forward Error Correction (FEC) and coding, and other wireless-specific
    techniques such as overhearing and constructive interferences, in order to
    increase the reliabiility and availability of the end-to-end transmission.
    </t>
    <t>
    Collectively, those function are called PAREO for Packet (hybrid) ARQ, Replication, Elimination and Ordering. By tuning dynamically the use of
    PAREO functions, RAW avoids the waste of critical resources such as spectrum
    and energy while providing that the guaranteed SLA, e.g., by adding redundancy only when a spike of loss is observed.
    </t>
    <t>
    In a nutshell, PAREO establishes several paths in a
    network to provide redundancy and parallel transmissions to
    bound the end-to-end delay to traverse the network.
    Optionally, promiscuous listening between paths is possible, such that the Nodes
    on one path may overhear transmissions along the other path.
    Considering the scenario shown in <xref target="fig_ladder"/>, many
    different paths are possible to traverse the network from ingress to
    egress. A simple way to benefit from this topology could be to use the
    two independent paths via Nodes A, C, E and via B, D, F.  But
    more complex paths are possible by interleaving transmissions
    from the lower level of the path to the upper level.
    </t>



      <figure anchor="fig_ladder" align="center" title="A Ladder Shape with Two Parallel Paths">
     <artwork align="center">

           (A) -- (C) -- (E)
         /                   \
Ingress =   |      |      |   = Egress
         \                   /
           (B) -- (D) -- (F)

</artwork>
     </figure>
    <t>
     PAREO may also take advantage of
     the shared properties of the wireless medium to compensate for the
     potential loss that is incurred with radio transmissions.
    </t>
    <t>
     For instance, when the source sends to Node A, Node B may listen
     promiscuously and get a second chance to receive the frame without an
     additional transmission. Note that B would not have to listen if it
     already received that particular frame at an earlier timeslot in a dedicated
     transmission towards B.
<!-- [->] This is assuming some sort of implicit knowledge in B. Not sure if this is  -->
<!-- possible without specific signaling.   -->
<!-- [GP] Yes, we may need additional 6P transactions from the source to B, or  -->
<!-- multicast 6P transaction from the source to both A and B. However, this  -->
<!-- need to be discussed and defined. We have referred to these requirements in the "Requirements Related to Cell Reservation" section in the upcoming version.  (DONE) -->
    </t>


    <t>
    The PAREO model can be implemented in both centralized and distributed scheduling approaches.
    In the centralized approach, a Path Computation Element (PCE) scheduler calculates a Track and schedules the communication.
    In the distributed approach, the Track is computed within the network,
    and signaled in the packets, e.g., using BIER-TE, Segment Routing, or a
    Source Routing Header.
    </t>



    <section numbered="true" toc="default">
      <name>Packet Replication</name>

    <t>
    By employing a Packet Replication procedure, a Node forwards
    a copy of each data packet to more than one successor.
    To do so, each Node (i.e., Ingress and intermediate Node) sends the
    data packet multiple times as separate unicast transmissions.
    For instance, in <xref target="fig_replication"/>, the Ingress Node is
    transmitting the packet to both successors, nodes A and B, at two different
    times.
    </t>


    <figure anchor="fig_replication" align="center"
        title="Packet Replication">
        <artwork align="center"><![CDATA[

             ===> (A) => (C) => (E) ===
           //        \\//   \\//       \\
   Ingress           //\\   //\\          Egress
           \\       //  \\ //  \\      //
             ===> (B) => (D) => (F) ===

        ]]></artwork>
    </figure>
    <t>
    An example schedule is shown in <xref target="tab_replication_schedule"/>.
    This way, the transmission leverages with the time and spatial forms of diversity.
    </t>
    <table anchor="tab_replication_schedule"><name>Packet Replication: Sample schedule</name>
   <thead>
      <tr>
		   <th align='center'>Channel</th>
		   <th align='center'>0</th>
		   <th align='center'>1</th>
		   <th align='center'>2</th>
		   <th align='center'>3</th>
		   <th align='center'>4</th>
		   <th align='center'>5</th>
		   <th align='center'>6</th>
      </tr>

   </thead><tbody>

			<tr><td>0</td>
    			<td align='center'>S->A</td>
    			<td align='center'>S->B</td>
    			<td align='center'>B->C</td>
    			<td align='center'>B->D</td>
    			<td align='center'>C->F</td>
    			<td align='center'>E->R</td>
    			<td align='center'>F->R</td>
        </tr>


			<tr><td>1</td>
    			<td align='center'> </td>
    			<td align='center'>A->C</td>
    			<td align='center'>A->D</td>
    			<td align='center'>C->E</td>
    			<td align='center'>D->E</td>
    			<td align='center'>D->F</td>
    			<td align='center'> </td>
        </tr>

    </tbody>
    </table>


<!-- [XV] here you are only considering duplication at the source. While would be better IMHO to duplicate before those links that show lower performance. Would you also consider duplication at inner hops?  -->
<!-- [GP] Yes, definitely, there is replication (duplication) at inner hops.  -->
<!-- For instance, A will transmit both to its default parent C and alternative B. -->
<!-- The Figure 2 and the text in 4.1 is updated. (Modified, DONE) -->
<!-- As far as only duplicating at lower performance links, this is a very good point and a nice optimisation target. This needs to be discussed further -->

<!-- [GP] Do you think a Figure with the TSCH schedule representation would be helpful?     -->
<!-- [RK] Yes, I do. Added  fig_replication_schedule -->

</section>




    <section numbered="true" toc="default">
      <name>Packet Elimination</name>


    <t>
    The replication operation increases the traffic load in the
    network, due to packet duplications.  This may occur at several stages inside the Track, and to avoid an explosion of the number of copies, a Packet Elimination procedure must be applied as well. To this aim, once a Node receives the first copy of a data packet, it discards the subsequent copies.
    </t><t>
    The logical functions of Replication and Elimination may be collocated in an intermediate Node, the  Node first eliminating the redundant copies and then sending the packet exactly once to each of the selected successors.
    </t>

</section>




    <section numbered="true" toc="default">
      <name>Promiscuous Overhearing</name>



    <t>
    Considering that the wireless medium is broadcast by nature, any neighbor of
    a transmitter may overhear a transmission.
    By employing the Promiscuous Overhearing operation, the next hops have additional opportunities to capture the data packets.
    In <xref target="fig_overhearing"/>, when Node A is transmitting to its DP
    (Node C), the AP (Node D) and its sibling (Node B) may decode this data packet as
    well.
    As a result, by employing corellated paths, a Node may have multiple
    opportunities to receive a given data packet.
    <!--
    This feature not only enhances the end-to-end reliability but also it reduces the
    end-to-end delay and increases energy efficiency.
    -->
    </t>


    <figure anchor="fig_overhearing" align="center"
        title="Unicast with Overhearing">
        <artwork align="center"><![CDATA[

           ===> (A) ====> (C) ====> (E) ====
         //     ^ | \\                      \\
  Ingress       | |   \\                      Egress
         \\     | v     \\                  //
           ===> (B) ====> (D) ====> (F) ====

]]></artwork>
    </figure>
<t>
     Variations on the same idea such as link-layer anycast and multicast
     may also be used to reach more than one next-hop with a single frame.
</t>

</section>






    <section numbered="true" toc="default">
      <name>Constructive Interference</name>

<t>
    Constructive Interference can be seen as the reverse of Promiscuous
    Overhearing, and refers to the case where two senders transmit the exact
    same signal in a fashion that the emitted symbols add up at the receiver and
    permit a reception that would not be possible with a single sender at the
    same PHY mode and  the same power level.
</t><t>
    Constructive Interference was proposed on 5G, Wi-Fi7 and even tested on
    IEEE Std 802.14.5.  The hard piece is to synchronize the senders to the
    point that the signals are emitted at slightly different time to offset the
    difference of propagation delay that corresponds to the difference of
    distance of the transmitters to the receiver at the speed of light to the
    point that the symbols are superposed long enough to be recognizable.
</t>

</section>



</section>      <!-- Act: The PAREO Functions-->

</section>
   <!-- The OODA Loop -->

    <!--  000000000000000000000    -->



    <section anchor="SecurityConsiderations" numbered="true" toc="default">
      <name>Security Considerations</name>
    <t>
    RAW uses all forms of diversity including radio technology and physical path
    to increase the reliability and availability in the face of unpredictable
    conditions. While this is not done specifically to defeat an attacker, the
    amount of diversity used in RAW makes an attack harder to achieve.
    </t>




    <section numbered="true" toc="default">
      <name>Forced Access</name>
    <t>
    RAW will typically select the cheapest collection of links that matches the
    requested SLA, for instance, leverage free WI-Fi vs. paid 3GPP access. By
    defeating the cheap connectivity (e.g., PHY-layer interference) the attacker
    can force an End System to use the paid access and increase the cost of the
    transmission for the user.
    </t>

      </section><!-- Forced Access -->

    <!--  111111111111111111111    -->
    </section>
      <!--Security Considerations-->
    <!--  000000000000000000000    -->




    <section numbered="true" toc="default">
      <name>IANA Considerations</name>
      <t>This document has no IANA actions.
      </t>
    </section>
      <!--IANA Considerations-->
    <!--  000000000000000000000    -->

    <section numbered="true" toc="default">
      <name>Contributors</name>
      <t>The editor wishes to thank:
      </t>
      <dl>
    <dt>Xavi Vilajosana:</dt><dd>Wireless Networks Research Lab, Universitat Oberta de Catalunya</dd>
    <dt>Remous-Aris Koutsiamanis:</dt><dd>IMT Atlantique</dd>
    <dt>Nicolas Montavont:</dt><dd>IMT Atlantique</dd>
    <dt>Rex Buddenberg:</dt><dd>Individual contributor</dd>
    <dt>Greg Mirsky:</dt><dd>ZTE</dd>
      </dl>
      <t>for their contributions to the text and ideas exposed in this document.
      </t>
    </section>
      <!--ConTributors-->
    <!--  000000000000000000000    -->

   <section><name>Acknowledgments</name>
   <t>TBD
   </t>
   </section>
   <!-- Acknowledgments -->
    <!--  000000000000000000000    -->


  </middle>
  <back>


<displayreference   target="I-D.thubert-6man-ipv6-over-wireless"     to="IPoWIRELESS"/>
<displayreference   target="I-D.ietf-raw-technologies"   to="RAW-TECHNOS"/>
<displayreference   target="I-D.ietf-raw-use-cases"   to="RAW-USE-CASES"/>

<displayreference   target="I-D.ietf-detnet-oam-framework"     to="DetNet-OAM"/>


<displayreference   target="RFC1122"                  to="INT-ARCHI"/>
<displayreference   target="RFC3272"                  to="TE"/>
<displayreference   target="RFC8175"                  to="DLEP"/>
<displayreference   target="RFC3411"                  to="STD 62"/>
<displayreference   target="RFC7490"                  to="RLFA-FRR"/>
<displayreference   target="RFC5714"                  to="FRR"/>
<displayreference   target="RFC8200"                  to="IPv6"/>
<displayreference   target="RFC8938"                  to="DetNet-DP"/>
<displayreference   target="RFC9030"                  to="6TiSCH-ARCHI"/>

    <references>
      <name>References</name>
      <references>
    <name>Normative References</name>


<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.9030.xml"/>
<!-- 6TiSCH Architecture -->

<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.1122.xml"/>
<!-- Internet Architecture -->

<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-raw-technologies.xml"/>
<!-- Reliable and Available Wireless Technologies -->

<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-raw-use-cases.xml"/>
<!-- RAW use cases -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4655.xml"/>
<!-- PCE -->


<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.6291.xml"/>
<!-- Guidelines for the Use of the "OAM" Acronym in the IETF  -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.7799.xml"/>
<!-- Active and Passive Metrics and Methods for OAM  -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8578.xml"/>
<!-- Deterministic Networking Use Cases -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8200.xml"/>
<!-- IPv6 -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8557.xml"/>
<!-- DetNet problem statement -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8655.xml"/>
<!-- Deterministic Networking Architecture -->
<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8939.xml"/>
<!-- Deterministic Networking IP dataplane -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.9049.xml"/>
<!-- Path Aware Networking: Obstacles to Deployment  -->

      </references>
    <!--Normative References-->


      <references>
    <name>Informative References</name>


<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.0791.xml"/>
<!-- IP -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3272.xml"/>
<!-- TE -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.3411.xml"/>
<!-- An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.4090.xml"/>
<!-- Fast Reroute Extensions to RSVP-TE -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.5714.xml"/>
<!--  IP Fast Reroute Framework -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.7490.xml"/>
<!--   Remote Loop-Free Alternate (LFA) Fast Reroute (FRR) -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8938.xml"/>
<!--   Deterministic Networking (DetNet) Data Plane Framework -->

<xi:include href="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8175.xml"/>
<!--  Dynamic Link Exchange Protocol  -->

<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml3/reference.I-D.irtf-panrg-path-properties.xml"/>

<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml3/reference.I-D.thubert-6man-ipv6-over-wireless.xml"/>
<!-- IPv6 Neighbor Discovery on Wireless Networks -->

<xi:include href="http://xml2rfc.tools.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-detnet-oam-framework.xml"/>


    <reference anchor="NASA" target="https://kscddms.ksc.nasa.gov/Reliability/Documents/150814-3bWhatIsReliability.pdf">
      <front>
        <title>RELIABILITY: Definition &amp; Quantitative Illustration</title>
        <author  initials="T." surname="Adams" fullname="Tim Adams" >
          <organization>NASA</organization>
        </author>
        <date/>
      </front>
    </reference>

    <!--Informative References-->
    </references>
    </references>


  </back>
</rfc>
